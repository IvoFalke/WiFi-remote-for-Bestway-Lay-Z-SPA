<!DOCTYPE html>
<html>
<head>
    <title>Lay-Z-Spa Module</title>
	<link rel="icon" type="image/png" sizes="48x48" href="favicon.png">
	<link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="main.css">
    <meta name="theme-color" content="#0066BF">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
    <script src="topNavi.js" type="text/javascript"></script>
    <script src="WebSocket.js" type="text/javascript"></script>
</head>

<body>
	<div id="site">
		<header>
			<span id="header">Lay-Z-Spa Module</span>
			<a href="javascript:void(0);" class="topnavicon" onclick="topNav()"></a>
		</header>

		<div class="topnav" id="topnav">
			<a href="./" class="active">Home</a>
			<a href="config.html">SPA Config</a>
			<a href="wifi.html">Network Config</a>
			<a href="mqtt.html">MQTT Config</a>
			<a href="/dir/">Directory</a>
			<a href="upload.html">File Uploader</a>
			<a href="remove.html">File Remover</a>
			<!--<a href="/restart/">Restart ESP</a>-->
			<a href="javascript:void(0);" class="bgred" onclick="reboot()">Restart ESP</a>
		</div>

		<section style="position:relative">
			<div class="visualapproach"></div>
			<h2>Temperature:</h2>
			<table class="fixed">
				<tr>
					<td>Actual:</td>
					<td><span id="atlabel">0</span></td>
				</tr>
				<tr>
					<td>Target:</td>
					<td><span id="ttlabel">0</span></td>
				</tr>
			</table>
		</section>

		<section>
			<table>
				<tr>
					<td colspan="2" class="center">
						<h1 id="dsp" style="width:20%; margin:auto; text-align: center; background-color: #000; color: red;">[DSP]</h1>
					</td>
				</tr>
			</table>
		</section>

		<section>
			<h2>Control:</h2>
			<table>
				<tr>
					<td style="width:40%;white-space:nowrap;">Set temperature:</td>
					<td style="width:40%"><input class="enabled" id="temp" type="range" min="20" max="40" step="1" value="20" onmouseup="tempchange()" ontouchend="tempchange()" ontouchmove="tempchange()" oninput="tempchange()"></td>
					<td style="width:20%;text-align:right" id="sliderTempVal">0</td>
				</tr>
			</table>
			<table>
				<tr>
					<td style="width:40%;white-space:nowrap;">Set brightness:</td>
					<td style="width:40%"><input class="enabled" id="brt" type="range" min="0" max="7" step="1" value="7" onmouseup="brtchange()" ontouchend="brtchange()" ontouchmove="brtchange()" oninput="brtchange()"></td>
					<td style="width:20%;text-align:right" id="sliderBrtVal">0</td>
				</tr>
			</table>
			<table class="fixed">
				<tr>
					<td>Bubbles</td>
					<td>
						<label class="switch">
						<input type="checkbox" id="AIR" onchange="air()">
						<span class="slider round"></span>
						</label>
					</td>
					<td>Heater</td>
					<td>
						<label class="switch">
						<input type="checkbox" id="HTR" onchange="htr()">
						<span id="htrspan" class="slider round"></span>
						</label>
					</td>
				</tr>
				<tr>
					<td>Pump</td>
					<td>
						<label class="switch">
						<input type="checkbox" id="FLT" onchange="flt()">
						<span class="slider round"></span>
						</label>
					</td>
					<td>Unit (F/C)</td>
					<td>
						<label class="switch">
						<input type="checkbox" id="UNT" onchange="unt()">
						<span class="slider round"></span>
						</label>
					</td>
				</tr>
				<tr id="jets">
					<td>Hydrojets</td>
					<td>
						<label class="switch">
						<input type="checkbox" id="HJT" onchange="hjt()">
						<span class="slider round"></span>
						</label>
					</td>
					<td></td>
					<td></td>
				</tr>
			</table>
		</section>
	
		<section>
			<h2>Timer:</h2>
			<table>
				<tr>
					<td>Last chlorine add was <span id="cltimer">1000000</span> ago.</td>
					<td><button id="cltimerbtn" class="button" onclick="clTimer()">Reset</button></td>
				</tr>
				<tr>
					<td>Last filter change was <span id="ftimer">1000000</span> ago.</td>
					<td><button id="ftimerbtn" class="button" onclick="fTimer()">Reset</button></td>
				</tr>
			</table>
		</section>
	
		<section>
			<h2>Totals:</h2>
			<table class="fixed">
				<tr>
					<td>Time:</td>
					<td><span id="time">00:00:00</span></td>
				</tr>
				<tr>
					<td>Heating Est.:</td>
					<td><span id="tttt">00:00:00</span></td>
				</tr>
				<tr>
					<td>Uptime:</td>
					<td><span id="uptime">00:00:00</span></td>
				</tr>
				<tr>
					<td>Pump:</td>
					<td><span id="filtertime">00:00:00</span></td>
				</tr>
				<tr>
					<td>Heating:</td>
					<td><span id="heatingtime">00:00:00</span></td>
				</tr>
				<tr>
					<td>Air:</td>
					<td><span id="airtime">00:00:00</span></td>
				</tr>
				<tr id="jetstotals">
					<td>Hydrojets:</td>
					<td><span id="jettime">00:00:00</span></td>
				</tr>
				<tr>
					<td>Estimated cost:</td>
					<td><span id="cost">00:00:00</span></td>
				</tr>
				<tr>
					<td colspan="2" class="center"><button id="reset" class="button" onclick="zero()">Reset</button></td>
				</tr>
			</table>
		</section>

		<footer>
			<p class="center"><span id="mqtt">MQTT: loading status...</span></p>
		</footer>
	</div>
</body>
</html>
